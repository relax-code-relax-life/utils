/*! http://wangwl.net/static/pages/utils.html */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.utils=n():e.utils=n()}(this,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r="undefined"!=typeof window&&window.document,o=r?navigator.userAgent:"",i=r?navigator.platform:"",u=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/i,a=/(\?([^#]*))?(#.*)?\s*$/,c=/[\u0020-\u007f\uff61-\uff9f]/g,f=/\n/g,s=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]/g,l=/&#(\d+);|(<br\s*\/\s*>)/g,d=/&.+?;/g,p=/-([a-zA-Z])/g,v=/[A-Z]/g,h=/(?:[?&])(.*?)(?:=(.*?))?(?=&|$|#)/g,y=/y+|M+|d+|H+|h+|m+|s+|S+|a|(\[.*?])/g,m=/(?:^|&)(.*?)=(.*?)(?=&|$)/g,g=/\$\{\s*(.+?)\s*\}/g,_=/Chrome\/(\d+)/,w=/Firefox\/(\d+)/,M=/Version\/([\d.]+)( Mobile\/.+?)? Safari\/\d+/,b=/MSIE (\d+)/,x=/Trident\/.*; rv:(\d+)/,D=/(Edge\/\d+)/,A=/Android/i,j=/MicroMessenger/,C=/iphone|ipad|ipod|ios/i;function E(e,n){var t=e.exec(n||o);return t&&t[1]}var T=Function.prototype.call,k=(T.bind(Array.prototype.slice),T.bind(Object.prototype.toString)),F=Array.isArray||function(e){return"[object Array]"===k(e)},S=function(e){return"[object Function]"===k(e)},I=function(e){return"boolean"==typeof e},P=function(e){return"number"==typeof e},O=Object.assign||function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var t in n)e[t]=n[t]}),e},W=function(e,n){if(e.fill)return e.fill(n);for(var t=e.length-1;t>-1;t--)e[t]=n;return e},H=function(e,n,t){return function(t){!n&&(n=this);for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(n,o)}},L=function(e){var n={},t=!1;return F(e)?e.forEach(function(e){return n[e]=!0}):t=e,{map:n,isAll:t}},U=function(e){var n=function(){var e="inner_copy_fake_ele",n=document.getElementById(e);return n||((n=document.createElement("textarea")).style.position="absolute",n.style.left="-999px",n.style.top="0px",n.setAttribute("readonly",""),n.id=e,document.body.appendChild(n),n)}();return n.value=e,n.select(),document.execCommand("copy")},$=0,R={},Y={guid:function(e){return void 0===e&&(e=""),e+$++},noop:function(){},isAndroid:function(e){return A.test(e||o)},isIos:function(e){return C.test(e||o)},isWeiXin:function(e){return j.test(e||o)},isWifi:function(){var e=navigator,n=e.connection||e.mozConnection||e.webkitConnection;return n?"cellular"!==n.type:Y.isWeiXin()?/NetType\/WIFI/.test(navigator.userAgent):void 0},isWindows:function(){return"Win32"===i||"Windows"===i||"Win16"===i||"Win64"===i||"WinCE"===i},isMac:function(){return"MacIntel"===i||"Macintosh"===i||"MacPPC"===i||"Mac68K"===i},isUrl:function(e){return u.test(e)},isArrayLike:function(e){return e&&"object"==typeof e&&isFinite(e.length)&&e.length>=0&&e.length===Math.floor(e.length)&&e.length<4294967296&&!e.nodeType},isIE:function(e){return E(b,e)||E(x,e)||E(D,e)},isChrome:function(e){return E(_,e)},isFirefox:function(e){return E(w,e)},isSafari:function(e){return E(_,e)||E(D,e)?null:E(M,e)},defer:function(){var e={};return e.promise=new Promise(function(n,t){e.resolve=function(){return n.apply(void 0,arguments),e.promise},e.reject=function(){return t.apply(void 0,arguments),e.promise}}),e},each:function(e,n,t){var r=e;if(F(r))return r.forEach(n,t);Object.keys(r).forEach(function(e){n.call(t,r[e],e,r)})},map:function(e,n,t){var r=e;if(F(r))return r.map(n,t);var o=[];return Y.each(r,function(e,i){o.push(n.call(t,e,i,r))}),o},find:function(e,n,t){var r=e;if(F(r))return r.find(n,t);var o=Object.keys(r).find(function(e){return n.call(t,r[e],e,r)});return o&&r[o]},unique:function(e,n,t,r){if(void 0===n&&(n=!1),"function"==typeof n&&(r=t,t=n,n=!1),"function"==typeof Set&&!t)return Array.from(new Set(e));var o=[],i=t?e.map(t,r):e;if(n){var u;i.forEach(function(n,t){u!==n&&(u=n,o.push(e[t]))})}else{var a=[];i.forEach(function(n,t){a.includes(n)||(a.push(n),o.push(e[t]))})}return o},cache:H,loop:function(e,n,t){void 0===t&&(t=!1);var r=Y.guid("loop"),o=function(){R[r]=setTimeout(i,n)},i=function(){Promise.resolve(e()).then(o)};return t?i():o(),r},clearLoop:function(e){var n=R[e];n&&(clearTimeout(n),R[e]=void 0)},timeout:function(e,n){void 0===e&&(e=0);var t=Y.defer(),r=setTimeout(function(){t.resolve(n?n():void 0)},e),o=t.promise;return o.abort=function(){clearTimeout(r)},o},throttle:function(e,n,t,r,o){S(n)||(o=r,r=t,t=n,n=void 0),I(t)||(o=r,r=t,t=!1),null==r&&(r=300);var i,u,a,c=o;return a=t?function(){e.apply(o,u),i=setTimeout(function(){i=void 0},r)}:function(){i=setTimeout(function(){e.apply(o,u),i=void 0},r)},function(){u=arguments,!c&&(o=this),n&&n.apply(o,u),i||a()}},debounce:function(e,n,t,r,o){S(n)||(o=r,r=t,t=n,n=void 0),I(t)||(o=r,r=t,t=!1),null==r&&(r=300);var i,u,a,c=o,f=function(e){clearTimeout(i),i=setTimeout(e,r)};return a=t?function(){i||e.apply(o,u),f(function(){i=void 0})}:function(){f(function(){e.apply(o,u),i=void 0})},function(){u=arguments,!c&&(o=this),a(),n&&n.apply(o,u)}},download:function(e,n){var t=document.createElement("a");t.download=n,t.href=e,t.target="_blank";var r=document.createEvent("MouseEvents");r.initEvent("click",!1,!1),t.dispatchEvent(r)},param:function(e,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e)return e?e+"":"";var t,r=[],o=encodeURIComponent,i=L(n),u=i.map,a=i.isAll;for(var c in e)null==(t=e[c])?t="":"object"==typeof t&&(t=JSON.stringify(t)),t=a||u[c]?t:o(t),r.push(o(c)+"="+t);return r.join("&")},parseParam:function(e,n){void 0===n&&(n=!1);for(var t,r={},o=decodeURIComponent,i=L(n),u=i.map,a=i.isAll;t=m.exec(e);)r[t[1]]=a||u[t[1]]?t[2]:o(t[2]);return r},resolveUrl:function(e,n,t){n=O(Y.getQuery(e),n);var r=Y.param(n,t);return e.replace(a,"?"+r+"$3")},getQuery:function(e,n){void 0===n&&(n=!1);for(var t,o,i,u={},a=L(n),c=decodeURIComponent;t=h.exec(e||r&&location.search||"");)o=t[1],i=t[2],o&&(i||(i=""),u[c(o)]=a.isAll||a.map[o]?i:c(i));return u},countStr:function(e,n,t,r){if(void 0===n&&(n=1),void 0===t&&(t=.5),void 0===r&&(r=1),!e)return 0;n=+n,t=+t,r=+r;var o=(e+="").match(c),i=e.match(f),u=o?o.length:0,a=i?i.length:0;return n*(e.length-u-a)+t*u+r*a},copyTxt:function(e){try{if(!U(e))return!1}catch(e){return!1}return!0},htmlEncode:function(e){var n;return"string"!=typeof e&&(e+=""),e.replace(s,function(e){return 32===(n=e.charCodeAt(0))&&(n=160),10===n?"<br/>":"&#"+n+";"})},htmlDecode:function(e){if(null==e||""===e)return"";var n=e.match(d);if(n){var t=document.createElement("div");t.innerHTML=n.join(","),n=t.innerText.split(","),t=null}else n=[];var r=0;return e.replace(d,function(e,t){return n[r++]})},camelCase:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.join("-").replace(p,function(e,n){return n.toUpperCase()})},kebabCase:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map(function(e){return e.replace(v,function(e,n){return(0===n?"":"-")+e.toLowerCase()})}).join("-")},paddingLeft:function(e,n,t){var r,o;return void 0===e&&(e=""),(n=~~n)<=(o=((e+="")+"").length)?e:(t=t&&t.charAt(0)||" ",(r=W(new Array(n-o),t)).push(e),r.join(""))},template:function(){var e=!0;try{new Function("``")}catch(n){e=!1}return e?function(e,n){return new Function("__scope__","\n                    var __result__;\n                    try{\n                        with(__scope__){\n                            __result__=`"+e+'`\n                        }\n                    }\n                    catch(e){\n                        __result__="";\n                    }\n                    return __result__;\n                    ')(n)}:function(e,n){var t=!0,r=e.split(g).map(function(e){return(t=!t)?e:"'"+e.replace("'","\\'")+"'"}).join("+");return new Function("__scope__","\n            var __result__;\n            with(__scope__){ \n                __result__="+r+";\n            }\n            return __result__;\n         ")(n)}}(),pick:function(e,n){return e&&Array.isArray(n)?n.reduce(function(n,t){return t in e?(n[t]=e[t],n):n},{}):{}},retry:function(e,n,t,r){if(void 0===t&&(t=0),void 0===r&&(r=this),"number"!=typeof n)throw new TypeError("the parameter max is not a number");var o=0;return function i(){var u=this,a=arguments;return o++,Promise.resolve(e.apply(r,arguments)).then(function(e){return o=0,e},function(e){return o<n?t>0?Y.timeout(t,function(){return i.apply(u,a)}):i.apply(u,a):(o=0,Promise.reject(e))})}}},q="__p$symbol__",z=function(e,n){if(!S(e))throw TypeError("promisify(): argument not a function");return Object.defineProperties(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=e[q];if(i){if(!S(i))throw TypeError(e.name+"[promisify.custom] is not a function");return Promise.resolve(i.apply(n||this,r))}var u=Y.defer(),a=e.length-1-r.length;a>0&&(r=r.concat(W(new Array(a),void 0)));try{r.push(function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e?u.reject(e):t.length>1?u.resolve(t):u.resolve(t[0])}),e.apply(n||this,r)}catch(e){u.reject(e)}return u.promise},Object.getOwnPropertyDescriptors(e))};z.custom=q;var N={year:"FullYear",month:"Month",day:"Date",hour:"Hours",min:"Minutes",sec:"Seconds"},Q={dateFormat:function(e,n){if(void 0===n&&(n="yyyy-MM-dd hh:mm:ss"),"[object Date]"!==k(e))return"";var t,r,o=e.getHours(),i=o>12?"pm":"am",u={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),H:o,h:o>12?o-12:o,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds(),a:i};return n.replace(y,function(e){return"["===(r=e.charAt(0))?e.slice(1,-1):"a"===r?u[r]:(t=Y.paddingLeft(u[r],e.length,"0"),"y"===r&&(t=t.slice(-e.length,t.length)),t)})},dateParse:function(e,n){n||(n="yyyy-MM-dd hh:mm:ss");var t,r,o={y:void 0,M:void 0,d:1,H:void 0,h:void 0,m:0,s:0,S:0,a:"am"},i=n.replace(y,function(e){var n,t=e[0],r=e.length;if("y"===t)n=r<4?"\\d{"+r+"}":"\\d{4}";else if("M"===t||"d"===t||"H"===t||"h"===t||"m"===t||"s"===t)n=1===r?"[1-9]\\d|\\d":"\\d{2}";else if("S"===t)n=r<3?"\\d{"+r+"}":"\\d{3}";else if("a"===t)n="(am|Am|AM|pm|Pm|PM)?";else if("["===t)return e.slice(1,-1);return"("+n+")"}),u=new RegExp(i,"g").exec(e),a=1;if(!u)throw new Error('The date format "'+n+'" match the date string "'+e+'" failed.');for(;t=y.exec(n);)"["!==(r=t[0].charAt(0))&&(o[r]="a"===r?u[a++]:~~u[a++]);var c,f=(new Date).getFullYear();return void 0===o.y?o.y=f:(c=o.y+"").length<4&&(c=(f+"").slice(0,4-c.length)+c,o.y=~~c),void 0===o.M?o.M=0:o.M-=1,o.h||(o.a="am",o.h=o.H||0),o.a=o.a.toLowerCase(),"pm"===o.a&&(o.h+=12),new Date(o.y,o.M,o.d,o.h,o.m,o.s,o.S)},dateAdd:function(e,n){var t=N;"number"==typeof n&&(n={day:n}),e=new Date(e);var r="";return Y.each(t,function(o,i){n[i]&&e["set"+(r=t[i])](e["get"+r]()+~~n[i])}),e},firstDateInMonth:function(e){return(e=new Date(e)).setDate(1),e},lastDateInMonth:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e.setDate(0),e},firstWeekInMonth:function(e){var n=Q.firstDateInMonth(e),t=n.getDay();return 0===t&&(t=7),Q.dateAdd(n,1-t)},lastWeekInMonth:function(e){var n=Q.lastDateInMonth(e),t=n.getDay();return 0!==t&&(n=Q.dateAdd(n,7-t)),n},weekRange:function(e,n,t){var r,o=[];if(!e||!n)return o;e>n&&(r=n,n=e,e=r),"number"!=typeof t&&(t=1);for(var i,u=1,a=new Date(e);a<n;)1===u&&a.getDay()===t?(+a!=+e&&o.push({end:new Date(a.getTime()-864e5)}),o.push({start:new Date(a)}),u=7):7===u&&(o[i=o.length-1].end=new Date(a.getTime()-864e5),o[i].duration=7,o.push({start:new Date(a)})),a.setDate(a.getDate()+u);for(var c=[0,1,2,3,4,5,6],f=0;f<t;f++)c[f]+=7;var s=o.length;return 0===s?o=[{start:e,end:n,duration:c[n.getDay()]-c[e.getDay()]+1}]:(o[0].start||(o[0].start=e,o[0].duration=c[o[0].end.getDay()]-c[e.getDay()]+1),o[i=s-1].end=n,o[i].duration=c[o[i].end.getDay()]-c[o[i].start.getDay()]+1),o},weekendsCount:function(e,n){e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var t,r,o,i,u=((n=new Date(n.getFullYear(),n.getMonth(),n.getDate()))-e)/864e5+1;return t=2*Math.floor(u/7),(r=u%7)&&(i=(o=e.getDay())+r-1,0===o?t++:o<=6&&i>=6&&(t+=Math.min(i-Math.max(o,6)+1,2))),t}},X=H(function(){for(var e,n,t={},r=/(?:;\s|^)([^;]*?)=([^;]*)/g,o=/([^&]+)=([^&]+)(?:&|$)/g,i=document.cookie;e=r.exec(i);)for(t[e[1]]={value:unescape(e[2]),values:null};n=o.exec(e[2]);)t[e[1]].values=t[e[1]].values||{},t[e[1]].values[n[1]]=unescape(n[2]);return t}),Z=function(e,n,t){var r,o,i,u,a="";if(e){if(e+="",null==n&&(n=""),"object"==typeof n){for(o in n)a+=o+"="+escape(n[o])+"&";a=a.slice(0,-1)}else a+=escape(n);return(t=t||{}).expires&&"[object Date]"!==k(t.expires)&&(u=t.expires,(i=new Date).setTime(i.valueOf()+(P(u.day)?86400*u.day*1e3:0)+(P(u.hour)?3600*u.hour*1e3:0)+(P(u.min)?60*u.min*1e3:0)+(P(u.sec)?1e3*u.sec:0)),t.expires=i),r=e+"="+a+(t.expires?";expires="+t.expires.toUTCString():"")+(t.path?"; path="+t.path:"")+(t.domain?"; domain="+t.domain:"")+(t.secure?"; secure":""),document.cookie=r,X(!0)[e]}},B=function(e,n){return Z(e,"",O(n,{expires:{day:-30}})),!(e in X(!0))},J=O(Y,{promisify:z,getCookie:X,setCookie:Z,deleteCookie:B,cookie:{delete:B,del:B,set:Z,get:function(e,n){var t=X(n)[e];return t&&t.value}}},Q,{uniq:Y.unique});r||(["isWifi","download","copyTxt","getCookie","setCookie","deleteCookie"].forEach(function(e){Y[e]=Y.noop}),Y.htmlDecode=function(e){return(e+="").replace(l,function(e,n,t){return t?"\n":("160"===n&&(n=32),String.fromCharCode(n))})}),n.default=J}]).default});