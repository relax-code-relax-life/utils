/* v1.0.65 http://wangwl.net/static/pages/utils.html */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.relaxUtils=t():e.relaxUtils=t()}(this,(function(){return(()=>{"use strict";var e={};return(()=>{var t=e;var n="undefined"!=typeof window&&window.document,r=n?navigator.userAgent:"",o=n?navigator.platform:"",i=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/i,a=/(\?([^#]*))?(#.*)?\s*$/,u=/[\u0020-\u007f\uff61-\uff9f]/g,c=/\n/g,f=/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]/g,s=/&#(\d+);|(<br\s*\/\s*>)/g,l=/&.+?;/g,d=/-([a-zA-Z])/g,p=/[A-Z]/g,v=/(?:[?&])(.*?)(?:=(.*?))?(?=&|$|#)/g,h=/y+|M+|d+|H+|h+|m+|s+|S+|a|(\[.*?])/g,m=/(?:^|&)(.*?)=(.*?)(?=&|$)/g,y=/\$\{\s*(.+?)\s*\}/g,g=/Chrome\/(\d+)/,_=/Firefox\/(\d+)/,w=/Version\/([\d.]+)( Mobile\/.+?)? Safari\/\d+/,M=/MSIE (\d+)/,D=/Trident\/.*; rv:(\d+)/,b=/(Edge\/\d+)/,x=/Android/i,A=/MicroMessenger/,j=/iphone|ipad|ipod|ios/i;function C(e,t){var n=e.exec(t||r);return n&&n[1]}var E=Function.prototype.call,k=(E.bind(Array.prototype.slice),E.bind(Object.prototype.toString)),T=Array.isArray||function(e){return"[object Array]"===k(e)},F=function(e){return"[object Function]"===k(e)},I=function(e){return"boolean"==typeof e},S=function(e){return"number"==typeof e},P=Object.assign||function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e},W=function(e,t){if(e.fill)return e.fill(t);for(var n=e.length-1;n>-1;n--)e[n]=t;return e},O=function(e,t,n){return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return!t&&(t=this),e.apply(t,r)}},U=function(e){var t={},n=!1;return T(e)?e.forEach((function(e){return t[e]=!0})):n=e,{map:t,isAll:n}},H=function(e){var t=function(){var e="inner_copy_fake_ele",t=document.getElementById(e);return t||((t=document.createElement("textarea")).style.position="absolute",t.style.left="-999px",t.style.top="0px",t.setAttribute("readonly",""),t.id=e,document.body.appendChild(t),t)}();return t.value=e,t.select(),document.execCommand("copy")};function $(e,t){try{return decodeURIComponent(e)}catch(e){throw e.message="URI malformed (malformed key: "+t+")",e}}var L=0,R={},Y={guid:function(e){return void 0===e&&(e=""),e+L++},noop:function(){},isAndroid:function(e){return x.test(e||r)},isIos:function(e){return j.test(e||r)},isWeiXin:function(e){return A.test(e||r)},isWifi:function(){var e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;return t?"cellular"!==t.type:Y.isWeiXin()?/NetType\/WIFI/.test(navigator.userAgent):void 0},isWindows:function(){return"Win32"===o||"Windows"===o||"Win16"===o||"Win64"===o||"WinCE"===o},isMac:function(){return"MacIntel"===o||"Macintosh"===o||"MacPPC"===o||"Mac68K"===o},isUrl:function(e){return i.test(e)},isArrayLike:function(e){return e&&"object"==typeof e&&isFinite(e.length)&&e.length>=0&&e.length===Math.floor(e.length)&&e.length<4294967296&&!e.nodeType},isIE:function(e){return C(M,e)||C(D,e)||C(b,e)},isChrome:function(e){return C(g,e)},isFirefox:function(e){return C(_,e)},isSafari:function(e){return C(g,e)||C(b,e)?null:C(w,e)},defer:function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(void 0,n),e.promise},e.reject=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.apply(void 0,t),e.promise}})),e},each:function(e,t,n){var r=e;if(T(r))return r.forEach(t,n);Object.keys(r).forEach((function(e){t.call(n,r[e],e,r)}))},map:function(e,t,n){var r=e;if(T(r))return r.map(t,n);var o=[];return Y.each(r,(function(e,i){o.push(t.call(n,e,i,r))})),o},find:function(e,t,n){var r=e;if(T(r))return r.find(t,n);var o=Object.keys(r).find((function(e){return t.call(n,r[e],e,r)}));return o&&r[o]},unique:function(e,t,n,r){if(void 0===t&&(t=!1),"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof Set&&!n)return Array.from(new Set(e));var o=[],i=n?e.map(n,r):e;if(t){var a;i.forEach((function(t,n){a!==t&&(a=t,o.push(e[n]))}))}else{var u=[];i.forEach((function(t,n){u.includes(t)||(u.push(t),o.push(e[n]))}))}return o},cache:O,loop:function(e,t,n){void 0===n&&(n=!1);var r=Y.guid("loop"),o=function(){R[r]=setTimeout(i,t)},i=function(){Promise.resolve(e()).then(o)};return n?i():o(),r},clearLoop:function(e){var t=R[e];t&&(clearTimeout(t),R[e]=void 0)},timeout:function(e,t){void 0===e&&(e=0);var n=Y.defer(),r=setTimeout((function(){n.resolve(t?t():void 0)}),e),o=n.promise;return o.abort=function(){clearTimeout(r)},o},throttle:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];F(r)||(a=i,i=o,o=r,r=void 0);I(o)||(a=i,i=o,o=!1);null==i&&(i=300);var u,c,f,s=a;f=o?function(){e.apply(a,c),u=setTimeout((function(){u=void 0}),i)}:function(){u=setTimeout((function(){e.apply(a,c),u=void 0}),i)};return function(){c=arguments,!s&&(a=this),r&&r.apply(a,c),u||f()}},debounce:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];F(r)||(a=i,i=o,o=r,r=void 0);I(o)||(a=i,i=o,o=!1);null==i&&(i=300);var u,c,f,s=a,l=function(e){clearTimeout(u),u=setTimeout(e,i)};f=o?function(){u||e.apply(a,c),l((function(){u=void 0}))}:function(){l((function(){e.apply(a,c),u=void 0}))};return function(){c=arguments,!s&&(a=this),f(),r&&r.apply(a,c)}},download:function(e,t){var n=document.createElement("a");n.download=t,n.href=e,n.target="_blank";var r=document.createEvent("MouseEvents");r.initEvent("click",!1,!1),n.dispatchEvent(r)},param:function(e,t){if(void 0===t&&(t=!1),null==e||"object"!=typeof e)return e?e+"":"";var n,r=[],o=encodeURIComponent,i=U(t),a=i.map,u=i.isAll;for(var c in e)null==(n=e[c])?n="":"object"==typeof n&&(n=JSON.stringify(n)),n=u||a[c]?n:o(n),r.push(o(c)+"="+n);return r.join("&")},parseParam:function(e,t){void 0===t&&(t=!1);var n,r,o={},i=$,a=U(t),u=a.map,c=a.isAll;for(m.lastIndex=0;n=m.exec(e);)o[r=n[1]]=c||u[r]?n[2]:i(n[2],r);return o},resolveUrl:function(e,t,n){t=P(Y.getQuery(e),t);var r=Y.param(t,n);return e.replace(a,"?"+r+"$3")},getQuery:function(e,t){void 0===t&&(t=!1);var r,o,i,a={},u=U(t),c=$;for(v.lastIndex=0;r=v.exec(e||n&&location.search||"");)o=r[1],i=r[2],o&&(i||(i=""),a[c(o,o)]=u.isAll||u.map[o]?i:c(i,o));return a},countStr:function(e,t,n,r){if(void 0===t&&(t=1),void 0===n&&(n=.5),void 0===r&&(r=1),!e)return 0;t=+t,n=+n,r=+r;var o=(e+="").match(u),i=e.match(c),a=o?o.length:0,f=i?i.length:0;return t*(e.length-a-f)+n*a+r*f},copyTxt:function(e){try{if(!H(e))return!1}catch(e){return!1}return!0},htmlEncode:function(e){var t;return"string"!=typeof e&&(e+=""),e.replace(f,(function(e){return 32===(t=e.charCodeAt(0))&&(t=160),10===t?"<br/>":"&#"+t+";"}))},htmlDecode:function(e){if(null==e||""===e)return"";var t=e.match(l);if(t){var n=document.createElement("div");n.innerHTML=t.join(","),t=n.innerText.split(","),n=null}else t=[];var r=0;return e.replace(l,(function(e,n){return t[r++]}))},camelCase:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-").replace(d,(function(e,t){return t.toUpperCase()}))},kebabCase:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e.replace(p,(function(e,t){return(0===t?"":"-")+e.toLowerCase()}))})).join("-")},paddingLeft:function(e,t,n){var r,o;return void 0===e&&(e=""),(t=~~t)<=(o=((e+="")+"").length)?e:(n=n&&n.charAt(0)||" ",(r=W(new Array(t-o),n)).push(e),r.join(""))},template:function(){var e=!0;try{new Function("``")}catch(t){e=!1}return e?function(e,t){return new Function("__scope__","\n                    var __result__;\n                    try{\n                        with(__scope__){\n                            __result__=`"+e+'`\n                        }\n                    }\n                    catch(e){\n                        __result__="";\n                    }\n                    return __result__;\n                    ')(t)}:function(e,t){var n=!0,r=e.split(y).map((function(e){return(n=!n)?e:"'"+e.replace("'","\\'")+"'"})).join("+");return new Function("__scope__","\n            var __result__;\n            with(__scope__){ \n                __result__="+r+";\n            }\n            return __result__;\n         ")(t)}}(),pick:function(e,t){return e&&Array.isArray(t)?t.reduce((function(t,n){return n in e?(t[n]=e[n],t):t}),{}):{}},retry:function(e,t,n,r){if(void 0===n&&(n=0),void 0===r&&(r=this),"number"!=typeof t)throw new TypeError("the parameter max is not a number");var o=0,i=function(){return o++,Promise.resolve(e.apply(r,arguments)).then((function(e){return o=0,e}),(function(e){var r=this;return o<t?n>0?Y.timeout(n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(r,e)})):i.apply(this,arguments):(o=0,Promise.reject(e))}))};return i}};var q="__p$symbol__",z=function(e,t){if(!F(e))throw TypeError("promisify(): argument not a function");return Object.defineProperties((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.__p$symbol__;if(o){if(!F(o))throw TypeError(e.name+"[promisify.custom] is not a function");return Promise.resolve(o.apply(t||this,n))}var i=Y.defer(),a=e.length-1-n.length;a>0&&(n=n.concat(W(new Array(a),void 0)));try{n.push((function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e?i.reject(e):t.length>1?i.resolve(t):i.resolve(t[0])})),e.apply(t||this,n)}catch(e){i.reject(e)}return i.promise}),Object.getOwnPropertyDescriptors(e))};z.custom=q;var N={year:"FullYear",month:"Month",day:"Date",hour:"Hours",min:"Minutes",sec:"Seconds"},Q={dateFormat:function(e,t){if(void 0===t&&(t="yyyy-MM-dd hh:mm:ss"),"[object Date]"!==k(e))return"";var n,r,o=e.getHours(),i=o>12?"pm":"am",a={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),H:o,h:o>12?o-12:o,m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds(),a:i};return t.replace(h,(function(e){return"["===(r=e.charAt(0))?e.slice(1,-1):"a"===r?a[r]:(n=Y.paddingLeft(a[r],e.length,"0"),"y"===r&&(n=n.slice(-e.length,n.length)),n)}))},dateParse:function(e,t){t||(t="yyyy-MM-dd hh:mm:ss");var n,r,o={y:void 0,M:void 0,d:1,H:void 0,h:void 0,m:0,s:0,S:0,a:"am"},i=t.replace(h,(function(e){var t,n=e[0],r=e.length;if("y"===n)t=r<4?"\\d{"+r+"}":"\\d{4}";else if("M"===n||"d"===n||"H"===n||"h"===n||"m"===n||"s"===n)t=1===r?"[1-9]\\d|\\d":"\\d{2}";else if("S"===n)t=r<3?"\\d{"+r+"}":"\\d{3}";else if("a"===n)t="(am|Am|AM|pm|Pm|PM)?";else if("["===n)return e.slice(1,-1);return"("+t+")"})),a=new RegExp(i,"g").exec(e),u=1;if(!a)throw new Error('The date format "'+t+'" match the date string "'+e+'" failed.');for(;n=h.exec(t);)"["!==(r=n[0].charAt(0))&&(o[r]="a"===r?a[u++]:~~a[u++]);var c,f=(new Date).getFullYear();return void 0===o.y?o.y=f:(c=o.y+"").length<4&&(c=(f+"").slice(0,4-c.length)+c,o.y=~~c),void 0===o.M?o.M=0:o.M-=1,o.h||(o.a="am",o.h=o.H||0),o.a=o.a.toLowerCase(),"pm"===o.a&&(o.h+=12),new Date(o.y,o.M,o.d,o.h,o.m,o.s,o.S)},dateAdd:function(e,t){var n=N;"number"==typeof t&&(t={day:t}),e=new Date(e);var r="";return Y.each(n,(function(o,i){t[i]&&e["set"+(r=n[i])](e["get"+r]()+~~t[i])})),e},firstDateInMonth:function(e){return(e=new Date(e)).setDate(1),e},lastDateInMonth:function(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e.setDate(0),e},firstWeekInMonth:function(e){var t=Q.firstDateInMonth(e),n=t.getDay();return 0===n&&(n=7),Q.dateAdd(t,1-n)},lastWeekInMonth:function(e){var t=Q.lastDateInMonth(e),n=t.getDay();return 0!==n&&(t=Q.dateAdd(t,7-n)),t},weekRange:function(e,t,n){var r,o=[];if(!e||!t)return o;e>t&&(r=t,t=e,e=r),"number"!=typeof n&&(n=1);for(var i,a=1,u=new Date(e);u<t;)1===a&&u.getDay()===n?(+u!=+e&&o.push({end:new Date(u.getTime()-864e5)}),o.push({start:new Date(u)}),a=7):7===a&&(o[i=o.length-1].end=new Date(u.getTime()-864e5),o[i].duration=7,o.push({start:new Date(u)})),u.setDate(u.getDate()+a);for(var c=[0,1,2,3,4,5,6],f=0;f<n;f++)c[f]+=7;var s=o.length;return 0===s?o=[{start:e,end:t,duration:c[t.getDay()]-c[e.getDay()]+1}]:(o[0].start||(o[0].start=e,o[0].duration=c[o[0].end.getDay()]-c[e.getDay()]+1),o[i=s-1].end=t,o[i].duration=c[o[i].end.getDay()]-c[o[i].start.getDay()]+1),o},weekendsCount:function(e,t){e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var n,r,o,i,a=((t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))-e)/864e5+1;return n=2*Math.floor(a/7),(r=a%7)&&(i=(o=e.getDay())+r-1,0===o?n++:o<=6&&i>=6&&(n+=Math.min(i-Math.max(o,6)+1,2))),n}},X=O((function(){for(var e,t,n={},r=/(?:;\s|^)([^;]*?)=([^;]*)/g,o=/([^&]+)=([^&]+)(?:&|$)/g,i=document.cookie;e=r.exec(i);)for(n[e[1]]={value:unescape(e[2]),values:null};t=o.exec(e[2]);)n[e[1]].values=n[e[1]].values||{},n[e[1]].values[t[1]]=unescape(t[2]);return n})),Z=function(e,t,n){var r,o,i,a,u="";if(e){if(e+="",null==t&&(t=""),"object"==typeof t){for(o in t)u+=o+"="+escape(t[o])+"&";u=u.slice(0,-1)}else u+=escape(t);return(n=n||{}).expires&&"[object Date]"!==k(n.expires)&&(a=n.expires,(i=new Date).setTime(i.valueOf()+(S(a.day)?86400*a.day*1e3:0)+(S(a.hour)?3600*a.hour*1e3:0)+(S(a.min)?60*a.min*1e3:0)+(S(a.sec)?1e3*a.sec:0)),n.expires=i),r=e+"="+u+(n.expires?";expires="+n.expires.toUTCString():"")+(n.path?"; path="+n.path:"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":""),document.cookie=r,X(!0)[e]}},B=function(e,t){return Z(e,"",P(t,{expires:{day:-30}})),!(e in X(!0))},J=P(Y,{promisify:z,getCookie:X,setCookie:Z,deleteCookie:B,cookie:{delete:B,del:B,set:Z,get:function(e,t){var n=X(t)[e];return n&&n.value}}},Q,{uniq:Y.unique});n||(["isWifi","download","copyTxt","getCookie","setCookie","deleteCookie"].forEach((function(e){Y[e]=Y.noop})),Y.htmlDecode=function(e){return(e+="").replace(s,(function(e,t,n){return n?"\n":("160"===t&&(t=32),String.fromCharCode(t))}))}),t.default=J})(),e=e.default})()}));